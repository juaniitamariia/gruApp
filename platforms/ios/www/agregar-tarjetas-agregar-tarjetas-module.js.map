{"version":3,"sources":["webpack:///./src/app/agregar-tarjetas/agregar-tarjetas.module.ts","webpack:///./src/app/agregar-tarjetas/agregar-tarjetas.page.html","webpack:///./src/app/agregar-tarjetas/agregar-tarjetas.page.scss","webpack:///./src/app/agregar-tarjetas/agregar-tarjetas.page.ts"],"names":[],"mappings":"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","file":"agregar-tarjetas-agregar-tarjetas-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AgregarTarjetasPage } from './agregar-tarjetas.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AgregarTarjetasPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AgregarTarjetasPage]\n})\nexport class AgregarTarjetasPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar style=\\\"background:transparent;\\\">\\n    <ion-button (click)='back();' fill=clear style=\\\"color:black;\\\"><ion-icon name=md-close></ion-icon></ion-button>\\n    <ion-title style=\\\"font-size: 13px; font-weight:300; text-align: center;\\\">AÑADIR TARJETA</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card class=add-towing-card>\\n    <h5 class=label-input>Número de tarjeta</h5>\\n    <ion-input [(ngModel)]=\\\"numTarjeta\\\" type=“text” class=name placeholder=\\\"xxxx xxxx xxxx xxxx\\\"></ion-input>\\n \\n    <h5 class=label-input>Mes de expiración </h5>\\n    <ion-input [(ngModel)]=\\\"month\\\" type=“text” class=name placeholder=\\\"MM\\\" maxlength=\\\"2\\\"></ion-input>\\n \\n    <h5 class=label-input>Año de expiración </h5>\\n    <ion-input [(ngModel)]=\\\"year\\\" type=“text” class=name placeholder=\\\"YYYY\\\" maxlength=\\\"4\\\"></ion-input>\\n \\n    <h5 class=label-input>CVV</h5>\\n    <ion-input [(ngModel)]=\\\"cvv\\\" type=“text” class=name placeholder=\\\"xxx\\\"></ion-input>\\n \\n  </ion-card>\\n\\n </ion-content>\\n\\n <h6 class=center style=\\\"display: inline-flex; font-size: 13px; font-weight:300; color: rgb(170, 170, 170);\\\"><ion-icon  style=\\\"display: inline-flex; font-size: 13px; color: rgb(170, 170, 170);\\\" name=\\\"lock\\\"></ion-icon>Secure Payments</h6>\\n\\n<ion-button (click)=paymentMethod() class=\\\"addbutton\\\">AGREGAR</ion-button>\\n\"","module.exports = \".label-input {\\n  margin-left: 5px;\\n  font-weight: 300;\\n  font-size: 12px;\\n  color: #a3a3a3; }\\n\\n.add-towing-card {\\n  box-shadow: none; }\\n\\n.name {\\n  border-bottom: 1px solid #aaaaaa; }\\n\\n.addbutton {\\n  width: auto;\\n  height: 100px;\\n  background: #6561AB;\\n  margin: 0; }\\n\\n.text {\\n  height: 80px; }\\n\\n.center {\\n  left: 0;\\n  right: 0;\\n  margin-left: auto;\\n  margin-right: auto; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qdWFuaXRhL0Rlc2t0b3AvR3J1QXBwIGNvcHkgMi9zcmMvYXBwL2FncmVnYXItdGFyamV0YXMvYWdyZWdhci10YXJqZXRhcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBZ0I7RUFDaEIsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixjQUF5QixFQUFBOztBQUc3QjtFQUNJLGdCQUFnQixFQUFBOztBQUdwQjtFQUNDLGdDQUEyQyxFQUFBOztBQUk1QztFQUNJLFdBQVc7RUFDWCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFNBQVMsRUFBQTs7QUFHYjtFQUNJLFlBQVksRUFBQTs7QUFHaEI7RUFDSSxPQUFNO0VBQ04sUUFBTztFQUNQLGlCQUFpQjtFQUNqQixrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2FncmVnYXItdGFyamV0YXMvYWdyZWdhci10YXJqZXRhcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGFiZWwtaW5wdXQge1xuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgZm9udC13ZWlnaHQ6IDMwMDtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgY29sb3I6IHJnYigxNjMsIDE2MywgMTYzKTtcbiAgIH1cblxuLmFkZC10b3dpbmctY2FyZCB7XG4gICAgYm94LXNoYWRvdzogbm9uZTtcbiAgIH1cblxuLm5hbWUge1xuIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2IoMTcwLCAxNzAsIDE3MCk7XG4gXG59XG5cbi5hZGRidXR0b257XG4gICAgd2lkdGg6IGF1dG87XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgICBiYWNrZ3JvdW5kOiAjNjU2MUFCO1xuICAgIG1hcmdpbjogMDsgXG59XG5cbi50ZXh0e1xuICAgIGhlaWdodDogODBweDtcbn1cblxuLmNlbnRlcntcbiAgICBsZWZ0OjA7XG4gICAgcmlnaHQ6MDtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NativePageTransitions, NativeTransitionOptions } from '@ionic-native/native-page-transitions/ngx';\nimport {NavController} from '@ionic/angular';\nimport { Location } from \"@angular/common\";\nimport { AlertController } from \"@ionic/angular\";\nimport {\n  Stripe\n} from '@ionic-native/stripe/ngx';\nimport * as Parse from 'parse';\n\nlet parse = require('parse');\n\n@Component({\n  selector: 'app-agregar-tarjetas',\n  templateUrl: './agregar-tarjetas.page.html',\n  styleUrls: ['./agregar-tarjetas.page.scss'],\n})\nexport class AgregarTarjetasPage implements OnInit {\n  numTarjeta: any;\n  expDate: any;\n  cvv: any;\n  nombre: any;\n  apellido: any;\n  check: boolean;\n  month: any;\n  year: any;\n  constructor( public nav: NavController, public nativePageTransitions: NativePageTransitions,\n               public location : Location, public alertCtrl : AlertController, public stripe : Stripe) { \n                parse.serverURL = 'https://parseapi.back4app.com/';\n                Parse.initialize(\"guMi91jQ9mwtDypMkb74aFyKPmI0sQN2CY9TPHW2\", \"qEd42GYwiQaSxPHkgST0XJXOFqeacdlz4vPYNZh8\");\n            \n               }\n\n  ngOnInit() {\n    //console.log(Parse.User.current().get('email'));\n  }\n\n \n  navigateBack(){\n    let options: NativeTransitionOptions = {\n      direction: 'right',\n      duration: 200,\n      slowdownfactor: -1,\n      slidePixels: 20,\n      iosdelay: 100,\n      androiddelay: 100,\n    }\n\n    console.log('transition');\n    this.location.back();\n    this.nativePageTransitions.slide(options);\n  }\n    \n\npaymentMethod() {\n  this.stripe.setPublishableKey('pk_test_boV42rnD9DvyVn4MwCIRM5n000I3LHrkcY');\n\n  let card = {\n    number: this.numTarjeta,\n    expMonth: parseInt(this.month),\n    expYear: parseInt(this.year),\n    cvc: this.cvv\n  }\n\n  this.stripe.createCardToken(card)\n    .then(token => {\n      Parse.Cloud.run('createStripeUser', {cardToken: token.id, email: Parse.User.current().get('email')\n      }).then((result) => {\n        this.successAdd();\n        this.location.back();\n      }, (error) =>{\n        this.errorAlert(error);\n        console.log(error);\n      });\n    })\n    .catch(error => {\n      this.errorAlert(error);\n      console.log(error)\n    });\n}\n\nback(){\n  this.location.back();\n}\n\nnavigate(){\n  this.location.back();\n}\n\nasync successAdd(){\n  const alert =  await this.alertCtrl.create({\n    header: 'Listo',\n    message: '¡Su tarjeta ha sido grabada exitósamente!',\n    buttons: [{\n      text: 'OK',\n      role: 'cancel',\n      cssClass: 'secondary',\n      handler: () => {\n        console.log('Confirm Cancel');\n      }\n    }]\n  });\n  await alert.present();\n}\n\nasync errorAlert(error : any){\n  const alert =  await this.alertCtrl.create({\n    header: 'Error',\n    message: error,\n    buttons: [{\n      text: 'OK',\n      role: 'cancel',\n      cssClass: 'secondary',\n      handler: () => {\n        console.log('Confirm Cancel');\n      }\n    }]\n  });\n  await alert.present();\n}\n\n\n\n}\n"],"sourceRoot":""}