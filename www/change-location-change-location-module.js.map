{"version":3,"sources":["webpack:///./src/app/change-location/change-location.module.ts","webpack:///./src/app/change-location/change-location.page.html","webpack:///./src/app/change-location/change-location.page.scss","webpack:///./src/app/change-location/change-location.page.ts"],"names":[],"mappings":"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","file":"change-location-change-location-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangeLocationPage } from './change-location.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangeLocationPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChangeLocationPage]\n})\nexport class ChangeLocationPageModule {}\n","module.exports = \"<button class=\\\"boton\\\" (click)='navigate()'>\\n  <ion-icon style=\\\"color:white\\\" name=\\\"ios-arrow-back\\\" class=menuBtn></ion-icon>\\n</button>\\n\\n<!-- <ion-card class=mainMenu>\\n      <ion-img class=locationIcon src= \\\"assets/locationicon.svg\\\"></ion-img>\\n      <h6 class=actualLoc>Mi ubicación actual</h6> user's location viewport -->\\n<!-- <h6 class=recoger>RECOGER</h6> -->\\n<!-- <ion-input [(ngModel)]=\\\"destino\\\" (change)=\\\"setDestino()\\\" class=destination placeholder='DESTINO'></ion-input> destination viewport -->\\n\\n<ion-card class=menu>\\n  <h6 class=\\\"instrucciones\\\">ESCRIBA O MARQUE EL LUGAR A DONDE QUIERE IR LUEGO DE SER ASISTIDO POR EL GRUERO</h6>\\n  <p class=\\\"titulo-destino\\\">DESTINO <span *ngIf=\\\"this.distance != null\\\"\\n      style=\\\"font-weight: bold; color: black;\\\">{{this.distance}} millas</span></p>\\n  <ion-row style=\\\"margin-left: 5px; margin-right: 5px;\\\">\\n    <ion-col size=\\\"10\\\">\\n      <ion-input [(ngModel)]='destino' class=\\\"input-destino\\\" placeholder=\\\"Ej. Calle Hiedra, Cidra Puerto Rico.\\\"></ion-input>\\n    </ion-col> <!-- (ngModelChange)=\\\"loadMap()\\\" -->\\n    <ion-col size=\\\"2\\\">\\n      <ion-button (click)=\\\"setDestino()\\\">\\n        <ion-icon name=\\\"pin\\\"></ion-icon>\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n  <ion-grid class=\\\"grid-botones\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-button class=\\\"solicitar\\\" expand=\\\"block\\\" (click)=\\\"changePage()\\\">Solicitar</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-card>\\n\\n\\n<!-- Map view -->\\n<ion-header>\\n\\n  <meta charset='utf-8' />\\n  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />\\n  <div id='changeMap' style='width: 100%; height: 80vh;'></div>\\n  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>\\n  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />\\n  <style>\\n    body {\\n      margin: 0;\\n      padding: 0;\\n    }\\n\\n    #map {\\n      position: absolute;\\n      top: 0;\\n      bottom: 0;\\n      width: 100%;\\n    }\\n  </style>\\n\\n\\n</ion-header>\"","module.exports = \".solicitar {\\n  margin-right: auto;\\n  margin-left: auto;\\n  left: 0;\\n  right: 0;\\n  width: 170px;\\n  margin-bottom: 10px; }\\n\\n.titulo-destino {\\n  font-size: 12px;\\n  color: #bbb5b5;\\n  margin-left: auto;\\n  margin-right: auto;\\n  left: 0;\\n  right: 0;\\n  margin-top: 20px;\\n  margin-bottom: 5px;\\n  text-align: center; }\\n\\n.instrucciones {\\n  color: gray;\\n  font-size: 13px;\\n  text-align: center;\\n  margin: 20px;\\n  margin-bottom: 5px; }\\n\\n.input-destino {\\n  border: solid 1px #d4d0d0;\\n  border-radius: 5px;\\n  width: 100%;\\n  height: 100%;\\n  --padding-start: 8px; }\\n\\n.boton {\\n  position: absolute;\\n  margin-left: 20px;\\n  width: 50px;\\n  height: 50px;\\n  z-index: 1000;\\n  border-radius: 50%;\\n  background-color: #6561ab;\\n  box-shadow: 50%;\\n  margin-top: 40px; }\\n\\n.menuBtn {\\n  height: 30px;\\n  width: 30px;\\n  color: white; }\\n\\n.mainMenu {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 450px;\\n  height: 1080px;\\n  background-color: white;\\n  z-index: 100;\\n  margin-bottom: 20px;\\n  border-radius: 15px;\\n  background: transparent;\\n  box-shadow: none; }\\n\\n.locationIcon {\\n  width: 25px;\\n  margin-left: 20px;\\n  margin-top: 20px;\\n  display: inline-flex; }\\n\\n.actualLoc {\\n  display: inline-flex;\\n  position: absolute;\\n  margin-top: 30px;\\n  margin-left: 10px; }\\n\\n.recoger {\\n  display: inline-flex;\\n  position: absolute;\\n  margin-top: 15px;\\n  font-size: 12px;\\n  margin-left: 10px;\\n  color: gray;\\n  font-weight: 100; }\\n\\n.destination {\\n  display: inline-flex;\\n  position: absolute;\\n  margin-top: 100px;\\n  margin-left: 10px; }\\n\\n.destino {\\n  display: inline-flex;\\n  position: absolute;\\n  margin-top: 85px;\\n  font-size: 12px;\\n  margin-left: 10px;\\n  color: gray;\\n  font-weight: 100; }\\n\\n.grid-botones {\\n  margin-left: auto;\\n  margin-right: auto;\\n  left: 0;\\n  right: 0;\\n  width: 260px; }\\n\\n.menu {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin: 0;\\n  bottom: 0;\\n  background-color: white;\\n  z-index: 1000;\\n  width: 100vw;\\n  height: 220px;\\n  border-bottom-left-radius: 0;\\n  border-bottom-right-radius: 0; }\\n\\n.mapboxgl-ctrl-geocoder {\\n  margin-top: 100px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qdWFuaXRhL0RvY3VtZW50cy9HaXRIdWIvZ3J1QXBwL3NyYy9hcHAvY2hhbmdlLWxvY2F0aW9uL2NoYW5nZS1sb2NhdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLE9BQU07RUFDTixRQUFPO0VBQ1AsWUFBWTtFQUNaLG1CQUFtQixFQUFBOztBQUdyQjtFQUNFLGVBQWU7RUFDZixjQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLE9BQU87RUFDUCxRQUFRO0VBQ1IsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixrQkFBa0IsRUFBQTs7QUFHcEI7RUFDRSxXQUFVO0VBQ1YsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osa0JBQWtCLEVBQUE7O0FBR3BCO0VBQ0UseUJBQW9DO0VBQ3BDLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsWUFBWTtFQUNaLG9CQUFnQixFQUFBOztBQUdoQjtFQUNFLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsV0FBVTtFQUNWLFlBQVc7RUFDWCxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixlQUFlO0VBQ2YsZ0JBQWdCLEVBQUE7O0FBR2xCO0VBQ0UsWUFBWTtFQUNaLFdBQVc7RUFDWCxZQUFZLEVBQUE7O0FBR2Q7RUFDRSxrQkFBa0I7RUFDbEIsT0FBTTtFQUNOLFFBQU87RUFDUCxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixjQUFjO0VBQ2QsdUJBQXVCO0VBQ3ZCLFlBQVk7RUFDWixtQkFBbUI7RUFDbkIsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixnQkFBZ0IsRUFBQTs7QUFHbEI7RUFDRSxXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQixvQkFBb0IsRUFBQTs7QUFJdEI7RUFDRSxvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixpQkFBaUIsRUFBQTs7QUFHbkI7RUFDRSxvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLFdBQVc7RUFDWCxnQkFBZ0IsRUFBQTs7QUFHbEI7RUFDRSxvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixpQkFBaUIsRUFBQTs7QUFHbkI7RUFDRSxvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLFdBQVc7RUFDWCxnQkFBZ0IsRUFBQTs7QUFHbEI7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ3BCLE9BQU87RUFDUCxRQUFRO0VBQ1IsWUFBWSxFQUFBOztBQUdaO0VBQ0Usa0JBQWtCO0VBQ2xCLE9BQU07RUFDTixRQUFPO0VBQ1AsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsU0FBUztFQUNULHVCQUF1QjtFQUN2QixhQUFhO0VBQ2IsWUFBWTtFQUNaLGFBQWE7RUFDYiw0QkFBNEI7RUFDNUIsNkJBQTZCLEVBQUE7O0FBS2hDO0VBQ0UsNEJBQTRCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jaGFuZ2UtbG9jYXRpb24vY2hhbmdlLWxvY2F0aW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zb2xpY2l0YXJ7XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIGxlZnQ6MDtcbiAgICByaWdodDowO1xuICAgIHdpZHRoOiAxNzBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG4gIFxuICAudGl0dWxvLWRlc3Rpbm97XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGNvbG9yOiByZ2IoMTg3LCAxODEsIDE4MSk7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG4gIFxuICAuaW5zdHJ1Y2Npb25lc3tcbiAgICBjb2xvcjpncmF5O1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luOiAyMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgfVxuICBcbiAgLmlucHV0LWRlc3Rpbm97XG4gICAgYm9yZGVyOiBzb2xpZCAxcHggcmdiKDIxMiwgMjA4LCAyMDgpO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiA4cHg7XG4gIH1cbiAgXG4gICAgLmJvdG9ue1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgICB3aWR0aDo1MHB4O1xuICAgICAgaGVpZ2h0OjUwcHg7XG4gICAgICB6LWluZGV4OiAxMDAwO1xuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzY1NjFhYjtcbiAgICAgIGJveC1zaGFkb3c6IDUwJTtcbiAgICAgIG1hcmdpbi10b3A6IDQwcHg7XG4gICAgfVxuICBcbiAgICAubWVudUJ0bntcbiAgICAgIGhlaWdodDogMzBweDtcbiAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgIH1cbiAgXG4gICAgLm1haW5NZW51e1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDowO1xuICAgICAgcmlnaHQ6MDtcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgICAgbWFyZ2luLXRvcDogNDUwcHg7XG4gICAgICBoZWlnaHQ6IDEwODBweDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgICAgei1pbmRleDogMTAwO1xuICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgfVxuICBcbiAgICAubG9jYXRpb25JY29ue1xuICAgICAgd2lkdGg6IDI1cHg7XG4gICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgXG4gICAgfVxuICBcbiAgICAuYWN0dWFsTG9je1xuICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgfVxuICBcbiAgICAucmVjb2dlcntcbiAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbWFyZ2luLXRvcDogMTVweDtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgY29sb3I6IGdyYXk7XG4gICAgICBmb250LXdlaWdodDogMTAwO1xuICAgIH1cbiAgXG4gICAgLmRlc3RpbmF0aW9ue1xuICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBtYXJnaW4tdG9wOiAxMDBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIH1cbiAgXG4gICAgLmRlc3Rpbm97XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIG1hcmdpbi10b3A6IDg1cHg7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgIGNvbG9yOiBncmF5O1xuICAgICAgZm9udC13ZWlnaHQ6IDEwMDtcbiAgICB9XG4gIFxuICAgIC5ncmlkLWJvdG9uZXN7XG4gICAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIHdpZHRoOiAyNjBweDtcbiAgICB9XG4gIFxuICAgIC5tZW51e1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDowO1xuICAgICAgcmlnaHQ6MDtcbiAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgICAgbWFyZ2luOiAwO1xuICAgICAgYm90dG9tOiAwO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICB6LWluZGV4OiAxMDAwO1xuICAgICAgd2lkdGg6IDEwMHZ3O1xuICAgICAgaGVpZ2h0OiAyMjBweDtcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDA7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcbiAgXG4gICAgfVxuICAgLy9pbnRlbnRvXG4gIFxuICAgLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIge1xuICAgICBtYXJnaW4tdG9wOiAxMDBweCAhaW1wb3J0YW50O1xuICAgfSJdfQ== */\"","import {\n  Component,\n  OnInit\n} from '@angular/core';\nimport {\n  MenuController\n} from '@ionic/angular';\nimport {\n  NavController\n} from '@ionic/angular';\nimport {\n  GruproviderService\n} from \"../gruprovider.service\";\nimport * as mapboxgl from 'mapbox-gl';\nimport {\n  NativePageTransitions,\n  NativeTransitionOptions\n} from '@ionic-native/native-page-transitions/ngx';\nimport {\n  PopovergruaComponent\n} from \"./../popovergrua/popovergrua.component\";\nimport {\n  PopoverController\n} from '@ionic/angular';\nimport {\n  PopoverComponent\n} from '../popover/popover.component';\nimport {\n  PopoverDescriptionComponent\n} from '../popover-description/popover-description.component';\nimport MapboxDirections from '@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions';\nimport * as MapboxGeocoder from \"@mapbox/mapbox-gl-geocoder\";\nimport {\n  Geolocation\n} from '@ionic-native/geolocation/ngx';\nimport {\n  AlertController\n} from \"@ionic/angular\";\nimport { Location } from \"@angular/common\";\nimport * as Parse from 'parse';\n\nlet MapboxGeocoder = require('@mapbox/mapbox-gl-geocoder');\n\n@Component({\n  selector: 'app-change-location',\n  templateUrl: './change-location.page.html',\n  styleUrls: ['./change-location.page.scss'],\n})\nexport class ChangeLocationPage implements OnInit {\n\n  changeMap: mapboxgl.Map;\n  mapboxgl: any;\n  require: any;\n  service: string;\n\n  //directions : any;\n  lat: any;\n  long: any;\n  end: any;\n  start: any;\n  destino: string = \"\";\n  lugar: string;\n  endingP: boolean = false;\n  mapboxDirections: any;\n  directions: any;\n  map: any;\n  destination: any;\n  distance: number;\n  distanceCost: number;\n  time: number;\n  whatUser: boolean;\n\n\n  constructor(public menu: MenuController,\n    private nav: NavController, public gruprovider: GruproviderService,\n    public nativePageTransitions: NativePageTransitions, public popover: PopoverController,\n    public popoverDescription: PopoverDescriptionComponent,public geolocation: Geolocation, public alertCtrl: AlertController, public location: Location) { }\n\n  ngOnInit() \n  {\n    this.loadMap();\n    this.start = [this.gruprovider.long, this.gruprovider.lat];\n  }\n  ngOnDestroy() {\n    this.changeMap.remove();\n  }\n\n  setDestino(){\n    this.destination = this.mapboxDirections.setDestination(this.destino);\n    this.distanceEquation();\n  }\n\n  loadMap() {\n\n    this.changeMap = new mapboxgl.Map({\n      container: 'changeMap',\n      style: 'mapbox://styles/jrosario241/cjsuqzyev4cip1fo3cv5c3vr5'\n    });  //añadir el mapa\n\n    this.changeMap.dragRotate.disable(); //evita que el mapa rote\n    const geolocate = new mapboxgl.GeolocateControl({ \n      positionOptions: {\n        enableHighAccuracy: true\n      },\n      trackUserLocation: true\n    }); //punto azul de localización actual del usuario\n\n    this.changeMap.addControl(geolocate); //añade el control (cuadro) \n\n    this.mapboxDirections = new MapboxDirections({\n      accessToken: mapboxgl.accessToken,\n      unit: 'metric',\n      profile: 'mapbox/driving',\n      controls: {\n        profileSwitcher: false,\n        instructions: false,\n        inputs: false\n    }\n    }); //atributo de añadir direcciones al mapa \n\n    this.changeMap.addControl(this.mapboxDirections, 'bottom-left'); //añade control de las direcciones\n    this.geolocation.getCurrentPosition().then((resp) => {\n      \n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n\n    let self = this; //scope\n    this.changeMap.on('load', function () {\n      self.mapboxDirections.setOrigin([self.gruprovider.long, self.gruprovider.lat]) //latitud y longitud de la ubicacion actual\n      geolocate.trigger();\n    });\n\n    console.log(\"Map finished loading\");\n    console.log(this.destino);\n    this.mapboxDirections.on(\"route\", e => {\n      let routes = e.route\n      this.gruprovider.time = Math.ceil(routes[0].duration/60)\n      // Each route object has a distance property\n      this.distance = Math.ceil(routes[0].distance * 0.00062137);\n      this.gruprovider.distance = this.distance; //guarda distancia (MILLAS)\n      this.gruprovider.destination = this.destino; //guarda destino (PUNTOP B)\n      console.log(\"Route lengths\", routes);\n      console.log('Millas', this.distance);\n      console.log(this.time)\n  })\n  }\n\n    //**navegar para pagina principal**\n  navigate() {\n\n    let options: NativeTransitionOptions = {\n      direction: 'right',\n      duration: 200,\n      slowdownfactor: -1,\n      slidePixels: 20,\n      iosdelay: 100,\n      androiddelay: 100,\n    }\n\n    console.log('transition');\n    this.nativePageTransitions.slide(options);\n    this.location.back();\n  }\n\n\n  //Alerta cuando el usario no ha especificado un destino\n  async emptyDestinou() {\n    const alert = await this.alertCtrl.create({\n      header: '¡ALERTA!',\n      message: 'No ha especificado un destino.',\n      buttons: [{\n        text: 'OK',\n        role: 'cancel',\n        cssClass: 'secondary',\n        handler: () => {\n          console.log('Confirm Cancel');\n          //this.popController.dismiss();\n          //this.nav.navigateRoot(\"/sidemenu\");\n        }\n      }]\n    });\n\n    await alert.present();\n  }\n\n//**/funcion que cambia el servicio**\nasync changePage() { \n  if(this.mapboxDirections.getDestination().geometry == null){\n    console.log(\"no puedes pasar\")\n    this.emptyDestinou();\n    return;\n  }\n\n    console.log(this.mapboxDirections.getOrigin()) //extrae el origen de la ruta\n    console.log(this.mapboxDirections.getDestination()) //extrae el destino de la ruta\n\n    this.gruprovider.service = this.service;\n    this.gruprovider.destination = this.mapboxDirections.getDestination().geometry.coordinates; //coordenadas del punto B(destino) en un array\n\n    console.log(\"LEGS: \" + this.mapboxDirections.getDestination().routes);\n    this.distanceEquation();\n     \n\n    if(this.gruprovider.service == 'Servicio Especial'){\n        this.nav.navigateRoot(\"/escoger-carro\")\n    }else{\n      this.presentPopover(); \n    }\n\n   \n  \n}\n\n//Funcion ejecutada al momento de seleccionar el boton de Solicitar\n\nasync presentPopover() { //Popover de detalles del carro\n  const popover = await this.popover.create({\n    component: PopoverDescriptionComponent,\n    translucent: false\n  });\n  console.log(\"pop working\");\n  return await popover.present();\n\n}\n\n//Funcion que calcula el costo de distancia por millas \ndistanceEquation(){\n  \n\n  this.gruprovider.precioMilla = (this.distance * 3);\n  console.log(\"Precio Milla:\", this.gruprovider.precioMilla);\n\n  this.distanceCost = (this.distance * 3) + this.gruprovider.price; //multiplica $3 x total de millas\n  console.log(this.distanceCost);\n\n  this.gruprovider.total = this.gruprovider.precioMilla;\n\n  console.log(this.gruprovider.total);\n\n  console.log(this.gruprovider.serviceId);\n\n\n  if(this.gruprovider.total != null)\n  {\n    console.log(\"Entrando al condicional\");\n\n    Parse.Cloud.run('updateServicePrice', {\n      serviceId: this.gruprovider.serviceId,\n      servicePrice: this.gruprovider.total\n    }).then((result) => {\n      console.log(result);\n      \n    }, (error) =>{\n      console.log(error);\n    });\n  }\n}\n\n\n\n\n\n\n}\n"],"sourceRoot":""}